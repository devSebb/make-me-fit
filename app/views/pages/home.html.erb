<%# Hero Section %>
<section>
  <div class="flex items-start md:w-full pl-8 pt-20">
    <div class="flex flex-col flex-grow w-4/5 gap-10">
      <h1 class="font-black text-4xl md:text-8xl bg-gradient-to-r from-lime-500 via-lime-700 to-emerald-900 text-transparent bg-clip-text" style="line-height: 1.3;">Because a<br> Six Pack is done in the Kitchen</h1>
      <p class="text-xl md:text-3xl text-emerald-900">Lets get your meals done right</p>
      <%= image_tag "doodle/Doodle_Arrow1.svg", alt: "Arrow", class: "animated-arrow h-[1px] rotate-180 opacity-0"%>
    </div>
    <div class="animated-button relative inline-block mt-10 transition-transform duration-300">
      <%= image_tag "doodle/Doodle_Circle.svg", alt: "Circle", class: "animated-circle h-[600px]"%>
      <%= link_to user_signed_in? ? user_data_path : new_user_session_path, class: "absolute inset-0 flex items-center text-end justify-center text-emerald-900 font-bold text-3xl hover:text-lime-500 transition-colors duration-300" do %>
    Make-Me-Fit <br> (plz)
  <% end %>
    </div>
  </div>
</section>
<%# Info Section %>
<section class="relative mb-20">
  <div class="absolute inset-0 bg-[#f7f7fa] opacity-50 bg-[repeating-linear-gradient(45deg,#064e3b_25%,transparent_25%,transparent_75%,#064e3b_75%,#064e3b),repeating-linear-gradient(45deg,#064e3b_25%,#f7f7fa_25%,#f7f7fa_75%,#064e3b_75%,#064e3b)] bg-[length:80px_80px] bg-[0_0,40px_40px]"></div>
  <div class="relative z-10 flex justify-center py-10">
    <div class="flex flex-col w-full max-w-7xl">
      <h1 class="animated-title text-3xl md:text-6xl font-black text-emerald-800 w-full text-center px-4 pb-16 text-shadow-lg">
        What's this all about
      </h1>
      <div class="flex flex-col md:flex-row w-full mx-auto gap-10">
        <div class="flex flex-col gap-6 w-full md:w-1/2 h-fit">
          <div class="animated-container w-full md:ml-5 leading-snug bg-neutral-50 bg-clip-padding backdrop-filter backdrop-blur bg-opacity-40 saturate-100 backdrop-contrast-100 p-6 rounded-lg">
            <h1 class="text-2xl md:text-4xl font-black text-emerald-800">
              Make-Me-Fit
            </h1>
            <p class="text-xl md:text-2xl" style="line-height: 1.5;">is a an AI powered meal planner that will help you get looking RIPPED....if that is what you want.<br> We focus exclusively on nutrition to achieve your health and fitness goals.</p>
          </div>
          <div class="animated-container-2 w-full mt-8 md:ml-20 bg-neutral-50 bg-clip-padding backdrop-filter backdrop-blur bg-opacity-40 saturate-100 backdrop-contrast-100 p-6 rounded-lg">
            <p class="text-xl md:text-2xl" style="line-height: 1.5;">Simple and to the point, we gather your data, analyze it and output meal options for you that will help you achieve your goals. There is no great health and body, without proper nutrition.</p>
          </div>
        </div>
        <%# Right Column %>
        <div class="animated-image w-full md:w-fit h-fit mx-auto bg-neutral-50 bg-clip-padding backdrop-filter backdrop-blur bg-opacity-40 saturate-100 backdrop-contrast-100 p-8 rounded-lg">
          <%= image_tag "AI Image Generator.jpeg", alt: "text", class: "rounded-lg w-full md:w-auto md:h-[400px] object-contain" %>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  let tl = gsap.timeline({
    // scrollTrigger: {
    //   trigger: ".animated-button",
    //   start: "top center",
    //   end: "bottom center",
    //   scrub: true,
    //   markers: true,
    // },
  })
  tl.from(".animated-button", {
    scale: -1.5,
    duration: 1,
    ease: "sine.in",
  }, 0)
  .to(".animated-button", {
    scale: 1,
    y: 0,
    duration: 2,
    ease: "sine.in",
  }, 1)
  .from(".animated-arrow", {
  scale: 0.01,
  opacity: 0,
  duration: 0.5,
  ease: "sine.in",
}, 0)
.to(".animated-arrow", {
  scale: 3,
  opacity: 1,
  duration: 1,
  x: 250,
  y: -70,
  height: 100,
  ease: "sine.in",
}, 0.5)

// ScrollTrigger
ScrollTrigger.create({
  trigger: ".animated-title",
  start: "-580% center",
  end: "0% center",
  scrub: true,
  markers: false,
  animation: gsap.from(".animated-title", {
    scale: 1,
    x: -500,
    ease: "sine.in",
    duration: 1
  })
});

ScrollTrigger.create({
  trigger: ".animated-container",
  start: "-170% center",
  end: "0% center",
  scrub: true,
  markers: false,
  animation: gsap.from(".animated-container", {
    scale: 1,
    x: -500,
    ease: "sine.in",
    duration: 1
  })
});
ScrollTrigger.create({
  trigger: ".animated-container-2",
  start: "-160% center",
  end: "-60% center",
  scrub: true,
  markers: false,
  animation: gsap.from(".animated-container-2", {
    scale: 1,
    x: -500,
    ease: "sine.in",
    duration: 1
  })
});
ScrollTrigger.create({
  trigger: ".animated-image",
  start: "-170% center",
  end: "0% center",
  scrub: true,
  markers: false,
  animation: gsap.from(".animated-image", {
    scale: 1,
    x: 500,
    ease: "sine.in",
    duration: 1
  })
});


  // Add hover effect
  const animatedButton = document.querySelector('.animated-button');

  animatedButton.addEventListener('mouseenter', () => {
    gsap.to(animatedButton, {
      scale: 1.3,
      duration: 0.1,
      ease: "power4.in"
    });
  });

  animatedButton.addEventListener('mouseleave', () => {
    gsap.to(animatedButton, {
      scale: 1,
      duration: 0.1,
      ease: "power4.in"
    });
  });

  // Smooth Scroll
  const lenis = new Lenis()

  lenis.on('scroll', (e) => {
    console.log(e)
  })

  function raf(time) {
    lenis.raf(time)
    requestAnimationFrame(raf)
  }

  requestAnimationFrame(raf)
</script>
